(function(){"use strict";var e={6387:function(e,t,n){var o=n(9242),r=n(3396);n(1703);const i=256,s=512,a=new WeakMap,u="___ps_s_s";function l(e){const t=e.el;t&&1===t.nodeType&&(a.set(t,{scrollTop:document.scrollingElement?.scrollTop,scrollLeft:document.scrollingElement?.scrollLeft}),c(t))}function c(e){if(!e||1!==e.nodeType)return;const t={scrollTop:e.scrollTop,scrollLeft:e.scrollLeft};e[u]=t;for(let n=0;n<e.childElementCount;n++)c(e.children[n])}function d(e){const t=e.el;if(!t||1!==t.nodeType)return;f(t);const n=a.get(t);document.scrollingElement&&Object.entries(n||{}).forEach((([e,t])=>{document.scrollingElement[e]=t}))}function f(e){if(!e||1!==e.nodeType)return;for(let n=0;n<e.childElementCount;n++)f(e.children[n]);const t=e[u];t&&Object.entries(t).forEach((([t,n])=>{e[t]=n}))}function p(e){a.delete(e.el)}const h=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},g={beforePause:{type:Function,require:!1},onPause:{type:Function,require:!1},onResume:{type:Function,require:!1},beforeResume:{type:Function,require:!1},saveStatus:{type:Boolean,default:!0}};function y(e){return!!e&&(!!e?.type&&("string"!==typeof e.type&&"symbol"!==typeof e.type))}var m=(0,r.aZ)({__isKeepAlive:!0,props:{...g,componentEvaluator:{type:Object,default:function(){return{evaluate(e){return e},reset(){},updateVNode(){},onRenderVNode(e){return e()[0]}}}}},setup(e,t){const n=function(t){e.beforePause&&e.beforePause(t),e.saveStatus&&l(t)},o=function(t){e.onPause&&e.onPause(t)},a=function(t){e.beforeResume&&e.beforeResume(t)},u=function(t){e.saveStatus&&d(t),e.onResume&&e.onResume(t)},c=(0,r.FN)();if(!c)throw new Error("getCurrentInstance return null");const{suspense:f,proxy:g}=c,m=g?.renderer,{p:v,m:b,um:P,o:{createElement:k}}=m;if(!g)throw new Error("getCurrentInstance().proxy return null");const w=k("div"),N=function(e,t,n,o,i){const s=e.component;a(e),b(e,t,n,0,f),(0,r.qb)((()=>{s.isDeactivated=!1;const t=s.a;t&&h(t);const n=e.props&&e.props.onVnodeMounted;n&&(0,r.$d)(n,s.parent,7,[e,null])})),(0,r.qb)((function(){u(e)})),v(s.vnode,e,t,n,s,f,o,e.slotScopeIds,i)},C=function(e){const t=e.component;n(e),b(e,w,null,1,f),(0,r.qb)((()=>{const n=t.da;n&&h(n);const o=e.props&&e.props.onVnodeUnmounted;o&&(0,r.$d)(o,t.parent,7,[e,null]),t.isDeactivated=!0})),o(e)};g.activate=N,g.deactivate=C;const T=function(e){e.shapeFlag&=~s,e.shapeFlag&=~i},D=function(e){p(e),T(e),P(e,c,f,!0)},x=function(e){return e.shapeFlag|=i,e},S=function(e,t){if(!t.component)return null;const n=e;return n.el=t.el,n.component=t.component,n.shapeFlag|=s,n.shapeFlag|=i,n},A={cacheNode:x,reuseNode:S,uncacheNode:T,cacheable:y,destory:D};return(0,r.Ah)((function(){e.componentEvaluator.reset(A)})),function(){const n=e.componentEvaluator;let o=n.onRenderVNode(t.slots?.default);if(!o)return o;const i=o;let s=!1;if(console.log("newComponent",o),o.type.displayName?.includes("Transition")){const e=o.children;if(!e)return e;if((0,r.lA)(e))o=e,s=!0;else{if(Array.isArray(e))throw new Error("cannot has array child");if("object"!==typeof e)return i;if(o=e.default?.()[0]||null,s=!0,!o)return i}}let a=n.evaluate(o,A);if(!a)return a;if(s&&i){const e=a,t=(0,r.Ho)(a,{onVnodeBeforeMount(t){n.updateVNode(e,t);const o=t?.component?.parent?.ctx;o&&(o.deactivate||(o.deactivate=C),o.activate||(o.activate=N))}});i.children={default:()=>t},i["__isKeepAlive"]=!0,a=i,t.patchFlag|=e.patchFlag,T(e),x(a)}return a}}}),v=n(0);const b="ps-slide-in",P="ps-slide-out";var k=(0,r.aZ)({props:{...g,lifeCycleCallback:{type:Object,require:!1},router:{type:Object,require:!1},mergeQueryToProps:{type:Boolean,default:!1},disableAnimation:{type:Boolean,default:!1}},setup(e,t){const n=new v.Z(e.lifeCycleCallback,e.router,e.mergeQueryToProps);return t.expose({getPageSize:n.size.bind(n)}),function(){return(0,r.Wm)(m,{componentEvaluator:n},{default:function(n){if(e.disableAnimation)return t.slots.default?.(n)?.[0];let i="";return"back"===n.action?i=P:"forword"===n.action&&(i=b),(0,r.Wm)(o.uT,{name:i},{default:()=>[t.slots.default?.(n)?.[0]]})}})}}}),w=n(4870),N=n(2483),C=(0,r.aZ)({setup(){const e=(0,w.iH)(),t=function(){document.title=`第${e.value?.getPageSize()||1}页`},n={onResume:t};return function(){return(0,r.Wm)(N.MA,null,{default:function({Component:t,route:o}){return(0,r.Wm)(k,{ref:e,lifeCycleCallback:n},{default:()=>[t&&(0,r.Ho)(t,{key:o.path})]})}})}}}),T=n(3834);(0,o.ri)(C).use(T["default"]).mount("#app")},3834:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var o=n(2483),r=n(3396),i=n(7139);const s=e=>((0,r.dD)("data-v-6e87e965"),e=e(),(0,r.Cn)(),e),a={class:"page"},u=s((()=>(0,r._)("input",null,null,-1)));function l(e,t,n,o,s,l){return(0,r.wg)(),(0,r.iD)("div",a,[u,(0,r._)("h2",null,"count:"+(0,i.zw)(e.count),1),(0,r._)("button",{class:"anim",onClick:t[0]||(t[0]=(...t)=>e.forward&&e.forward(...t))},"go next page"),(0,r._)("button",{class:"anim2",onClick:t[1]||(t[1]=(...t)=>e.back&&e.back(...t))},"go back")])}var c=n(6520),d=function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let f=class extends c.Vue{};f=d([(0,c.Options)({data(){return{count:0,timeRef:0}},mounted(){this.timeRef=setInterval((()=>this.count=this.count+1),1e3)},unmounted(){clearInterval(this.timeRef)},methods:{forward(){b.push("/p2")},back(){b.go(-1)}}})],f);var p=f,h=n(89);const g=(0,h.Z)(p,[["render",l],["__scopeId","data-v-6e87e965"]]);var y=g;const m=[{path:"/",name:"p1",component:y},{path:"/p1",name:"p1-1",component:y},{path:"/p2",name:"p2",component:()=>n.e(443).then(n.bind(n,6156))},{path:"/p3",name:"p3",component:()=>n.e(443).then(n.bind(n,3509))},{path:"/scroll",name:"scroll",component:()=>n.e(443).then(n.bind(n,5877))}],v=(0,o.p7)({history:(0,o.r5)("/ps/"),routes:m});var b=v},0:function(e,t,n){var o=n(4344)["default"];const r=n(6866);class i{moveTo(e,t=!1){if(!e||this.lifeState===e||!this.node||!this.lifecycleCallback)return;this.lifeState=e;const{node:n,lifecycleCallback:o}=this;t?(0,r.queuePostFlushCb)((()=>{o[e]?.(n)})):o[e]?.(n)}updateState(e){e.curNode=this.tag,this.state=e}constructor(e,t,n){o(this,"node",void 0),o(this,"next",void 0),o(this,"pre",void 0),o(this,"tag",void 0),o(this,"state",void 0),o(this,"lifeState",void 0),o(this,"lifecycleCallback",void 0),this.node=e||null,this.tag=n||null,this.lifecycleCallback=t||null,this.next=null,this.pre=null,this.state=null,this.lifeState=null}}function s(e,t){return e===t||e.type===t.type}class a{constructor(e,t,n=!1){o(this,"idGen",(new Date).valueOf()),o(this,"pageList",new i),o(this,"lastDisplayPage",null),o(this,"mergeQueryToProps",!1),o(this,"router",void 0),o(this,"lifecycleCallback",void 0),this.lifecycleCallback=e||null,this.router=t||null,this.mergeQueryToProps=n}getLastPageNode(e){let t=e||this.pageList;while(t.next)t=t.next;return t}findPageNode(e){let t=this.pageList.next;while(t&&t.tag!==e)t=t.next;return t}createPage(e,t,n=!0){const o=String(this.idGen++),s=new i((0,r.cloneVNode)(e,{key:e.props?.key?.toString()+o}),this.lifecycleCallback||void 0,o);if(n){const e=this.getLastPageNode();e.next=s,s.pre=e}return t.curNode=o,s.state=t,s.moveTo("onCreate"),s.moveTo("onResume",!0),s}copyKeyProps(e,t){return(0,r.cloneVNode)(t,{key:e.node.key})}iterPage(e,t,n=!1){let o=e||this.pageList.next;if(o)if(n){o=this.getLastPageNode(o);while(o&&o!==this.pageList)t(o),o=o.pre}else while(o)t(o),o=o.next}destoryPage(e,t){e&&e!==this.pageList&&(this.iterPage(e,(e=>{e.node&&(e.moveTo("beforeDestory"),t.destory(e.node),e.moveTo("onDestory"))}),!0),e.pre&&(e.pre.next=null))}destoryPageAsync(e,t){t&&(0,r.queuePostFlushCb)((()=>{this.destoryPage(t,e)}))}debugPageStack(e){}updateVNode(e,t){this.iterPage(null,(function(n){n.node===e&&(n.node=t)}))}size(){let e=0;return this.iterPage(null,(function(){e++})),e}removeNode(e){return e?(e.pre&&(e.pre.next=null),e.pre=null,e):e}evaluate(e,t){this.debugPageStack("before");const n=this._evaluate(e,t);return this.debugPageStack("after evaluate"),setTimeout((()=>{this.debugPageStack("post evaluate")}),0),n}setRouteProps(e){const t=this.router?.currentRoute.value.query;return this.mergeQueryToProps&&t?(0,r.cloneVNode)(e,{...t}):e}getAction(){const e=history.state;if(!e||"object"!==typeof e||!Reflect.has(e,"position"))return"unknown";if(!this.lastDisplayPage)return"init";if(!this.lastDisplayPage.state)return"unknown";const{position:t}=e,{position:n}=this.lastDisplayPage.state;return t>n?"forword":t<n?"back":"replace"}onRenderVNode(e){const t=this.getAction();return e({action:t})?.[0]}_evaluate(e,t){if(!t.cacheable(e))return e;const n=this.setRouteProps(e),o=history.state;if(!o||"object"!==typeof o||!Reflect.has(o,"position"))return e;const r=this.getAction();if(this.lastDisplayPage&&this.lastDisplayPage.state){const{curNode:e}=o;if("forword"===r){this.lastDisplayPage.moveTo("onPause");const e=this.createPage(n,o);return this.lastDisplayPage=e,t.cacheNode(e.node),e.node}const i=this.findPageNode(e);if("back"===r&&i&&i.node&&s(i.node,n)){const e=i.node;if(i.node=t.reuseNode(this.copyKeyProps(i,n),i.node),i.node){const e=this.removeNode(i.next);return this.destoryPageAsync(t,e),this.lastDisplayPage=i,i.updateState(o),i.moveTo("onResume",!0),i.node}i.node=e}if("replace"===r){const e=this.findPageNode(this.lastDisplayPage.tag);if(e&&e.node&&s(e.node,n)){const r=e.node;if(e.node=t.reuseNode(this.copyKeyProps(e,n),e.node),e.node){const n=this.removeNode(e.next);return this.destoryPageAsync(t,n),this.lastDisplayPage=e,e.updateState(o),e.moveTo("onResume",!0),e.node}e.node=r;const i=this.removeNode(e);return this.destoryPageAsync(t,i),this.lastDisplayPage=this.createPage(n,o),this.lastDisplayPage.node=t.cacheNode(this.lastDisplayPage.node),this.lastDisplayPage.node}return this.destoryPageAsync(t,this.removeNode(this.lastDisplayPage)),this.lastDisplayPage=this.createPage(n,o),t.cacheNode(this.lastDisplayPage.node),this.lastDisplayPage.node}}const i=this.removeNode(this.pageList.next);return this.destoryPageAsync(t,i),this.pageList.next=this.createPage(n,o),t.cacheNode(this.pageList.next.node),this.lastDisplayPage=this.pageList.next,this.lastDisplayPage.node}reset(e){this.onReset(e),this.lastDisplayPage=null,this.destoryPage(this.pageList,e)}onReset(e){}}t.Z=a}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],i=e[c][2];for(var a=!0,u=0;u<o.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(a=!1,i<s&&(s=i));if(a){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.c3007bd7.js"}}(),function(){n.miniCssF=function(e){return"css/about.0236cd9c.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="example:";n.l=function(o,r,i,s){if(e[o])e[o].push(r);else{var a,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(u=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=o),e[o]=[r];var f=function(t,n){a.onerror=a.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),u&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/ps/"}(),function(){var e=function(e,t,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=a,r.parentNode.removeChild(r),o(u)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],i=r.getAttribute("data-href");if(i===e||i===t)return r}},o=function(o){return new Promise((function(r,i){var s=n.miniCssF(o),a=n.p+s;if(t(s,a))return r();e(o,a,r,i)}))},r={143:0};n.f.miniCss=function(e,t){var n={443:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=i);var s=n.p+n.u(t),a=new Error,u=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,r[1](a)}};n.l(s,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,s=o[0],a=o[1],u=o[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(u)var c=u(n)}for(t&&t(o);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkexample"]=self["webpackChunkexample"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6387)}));o=n.O(o)})();
//# sourceMappingURL=app.f5906713.js.map